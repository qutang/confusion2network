<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convert confusion matrix to network graph â€¢ confusion2network</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">confusion2network</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/qutang/confusion2network">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="index_files/htmlwidgets-0.8/htmlwidgets.js"></script><link href="index_files/vis-4.17.0/vis.css" rel="stylesheet">
<script src="index_files/vis-4.17.0/vis.min.js"></script><script src="index_files/visNetwork-binding-1.0.3/visNetwork.js"></script><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">

<div id="confusion2network" class="section level2">
<h2 class="hasAnchor">
<a href="#confusion2network" class="anchor"> </a>confusion2network</h2>
<p><code>confusion2network</code> is an R package that converts confusion matrix or classification predictions into confusion graph/network for performance investigation.</p>
<p><strong>This package is still under active development and is subject to change, so documentation is lacking. But feel free to fork and send pull request. Use it with your own caution.</strong></p>
<hr>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"> </a>Installation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install devtools if not</span>
<span class="kw">install.packages</span>(<span class="st">"devtools"</span>)
<span class="co"># install through github for now</span>
devtools::<span class="kw">install_github</span>(<span class="st">"qutang/confusion2network"</span>)</code></pre></div>
</div>
<div id="highlight-features" class="section level2">
<h2 class="hasAnchor">
<a href="#highlight-features" class="anchor"> </a>Highlight features</h2>
<ul>
<li>
<strong>node size</strong>: the bigger, the more misclassified samples for this class</li>
<li>
<p><strong>edge opacity</strong> and <strong>edge width</strong></p>
<ul>
<li>for self reference edges, the more transparent or thinner the better it performs</li>
<li>for other edges, the more transparent or thinner the less misclassification rate</li>
</ul>
</li>
<li><p><strong>node click</strong>: click to highlight nodes and its up to 2 degree connections, indicating which classes may be misclassified with it.</p></li>
</ul>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"> </a>Example</h2>
<div id="confusion-matrix-as-a-graph" class="section level3">
<h3 class="hasAnchor">
<a href="#confusion-matrix-as-a-graph" class="anchor"> </a>Confusion matrix as a graph</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/confusion2network.html">confusion2network</a></span>(sample_confusion_matrix, 
                  <span class="dt">true_label_prefix =</span> <span class="st">"TRUE_"</span>, 
                  <span class="dt">pred_label_prefix =</span> <span class="st">"PREDICT_"</span>, 
                  <span class="dt">height =</span> <span class="st">"400px"</span>, 
                  <span class="dt">width =</span> <span class="st">"60%"</span>)</code></pre></div>
<div id="htmlwidget-6a2314a79aa854fab7df" style="width:60%;height:400px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-6a2314a79aa854fab7df">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],"label":["transition","sitting and writing","standing and web-browsing","lying still","sitting still","reclining and texting","stationary biking at 300 KPM/min","treadmill walking at 1 mph with arms on desk","treadmill walking at 2 mph with arms on desk","treadmill walking at 3.5 mph","treadmill walking at 3 mph carrying bag on dominant hand","treadmill walking at 3 mph carrying drink on dominant hand","treadmill walking at 3 mph phone talking on dominant hand","treadmill running at 5.5 mph 5% grade","sweeping","folding pile of towels","shelf emptying and restacking"],"title":["transition","sitting and writing","standing and web-browsing","lying still","sitting still","reclining and texting","stationary biking at 300 KPM/min","treadmill walking at 1 mph with arms on desk","treadmill walking at 2 mph with arms on desk","treadmill walking at 3.5 mph","treadmill walking at 3 mph carrying bag on dominant hand","treadmill walking at 3 mph carrying drink on dominant hand","treadmill walking at 3 mph phone talking on dominant hand","treadmill running at 5.5 mph 5% grade","sweeping","folding pile of towels","shelf emptying and restacking"],"value":[null,0.305031446540881,0.402208201892745,0.542635658914729,0.884210526315789,0.827067669172932,0.0597826086956522,0.0892448512585813,0.0942982456140351,0.222570532915361,0.67741935483871,0.873469387755102,0.756521739130435,0.0363036303630363,0.355555555555556,0.246543778801843,0.484848484848485],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},"edges":{"from":[1,1,2,2,3,3,3,4,4,5,5,5,6,6,6,6,7,8,9,10,11,11,11,11,12,12,12,12,13,13,13,13,14,15,15,15,16,16,17,17,17],"to":[14,15,2,3,2,3,4,3,4,3,4,5,2,3,4,6,7,8,9,10,10,11,12,13,10,11,12,13,10,11,12,13,14,15,16,17,16,17,15,16,17],"label":["0.12","0.16","0.69","0.14","0.11","0.60","0.14","0.24","0.46","0.38","0.27","0.12","0.14","0.36","0.22","0.17","0.94","0.91","0.91","0.78","0.23","0.32","0.19","0.19","0.19","0.28","0.13","0.34","0.19","0.19","0.32","0.24","0.96","0.64","0.12","0.15","0.75","0.11","0.23","0.21","0.52"],"value":[0.123137598597721,0.164767747589833,0.305031446540881,0.144654088050314,0.110410094637224,0.402208201892745,0.141955835962145,0.242248062015504,0.542635658914729,0.378947368421053,0.271052631578947,0.884210526315789,0.142857142857143,0.358395989974937,0.218045112781955,0.827067669172932,0.0597826086956522,0.0892448512585813,0.0942982456140351,0.222570532915361,0.225806451612903,0.67741935483871,0.189516129032258,0.189516129032258,0.187755102040816,0.277551020408163,0.873469387755102,0.342857142857143,0.191304347826087,0.18695652173913,0.317391304347826,0.756521739130435,0.0363036303630363,0.355555555555556,0.123456790123457,0.145679012345679,0.246543778801843,0.110599078341014,0.232323232323232,0.208754208754209,0.484848484848485],"color.opacity":[0.123137598597721,0.164767747589833,0.305031446540881,0.144654088050314,0.110410094637224,0.402208201892745,0.141955835962145,0.242248062015504,0.542635658914729,0.378947368421053,0.271052631578947,0.884210526315789,0.142857142857143,0.358395989974937,0.218045112781955,0.827067669172932,0.0597826086956522,0.0892448512585813,0.0942982456140351,0.222570532915361,0.225806451612903,0.67741935483871,0.189516129032258,0.189516129032258,0.187755102040816,0.277551020408163,0.873469387755102,0.342857142857143,0.191304347826087,0.18695652173913,0.317391304347826,0.756521739130435,0.0363036303630363,0.355555555555556,0.123456790123457,0.145679012345679,0.246543778801843,0.110599078341014,0.232323232323232,0.208754208754209,0.484848484848485]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"autoResize":true,"edges":{"arrows":"to","font":{"size":12},"scaling":{"max":2,"label":{"enabled":false}}},"layout":{"improvedLayout":true},"physics":{"barnesHut":{"gravitationalConstant":-3000,"springLength":500,"avoidOverlap":0.5}}},"groups":null,"width":"60%","height":"400px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)"},"main":null,"submain":null,"footer":null,"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="prediction-dataframe-as-a-graph" class="section level3">
<h3 class="hasAnchor">
<a href="#prediction-dataframe-as-a-graph" class="anchor"> </a>Prediction dataframe as a graph</h3>
<div id="sample-prediction-matrix" class="section level4">
<h4 class="hasAnchor">
<a href="#sample-prediction-matrix" class="anchor"> </a>Sample prediction matrix</h4>
<pre><code>##   PID CLASS_ID PRED_CLASS_ID ACV_ID
## 1   1        0             2      0
## 2   1        0             2      0
## 3   1        0             2      0
## 4   1        0             3      0
## 5   1        0             2      0
## 6   1        0             1      0</code></pre>
</div>
<div id="convert-prediction-matrix-to-a-network" class="section level4">
<h4 class="hasAnchor">
<a href="#convert-prediction-matrix-to-a-network" class="anchor"> </a>Convert prediction matrix to a network</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/confusion2network.html">prediction2network</a></span>(sample_prediction_dataframe, 
                   <span class="dt">true_col =</span> <span class="st">"CLASS_ID"</span>, 
                   <span class="dt">pred_col =</span> <span class="st">"PRED_CLASS_ID"</span>,
                   <span class="dt">true_labels =</span> <span class="kw">c</span>(<span class="st">"Transition"</span>, <span class="st">"Sitting"</span>, <span class="st">"Upright"</span>, <span class="st">"Lying"</span>), 
                   <span class="dt">pred_labels =</span> <span class="kw">c</span>(<span class="st">"Sitting"</span>, <span class="st">"Upright"</span>, <span class="st">"Lying"</span>), 
                   <span class="dt">height =</span> <span class="st">"400px"</span>, 
                   <span class="dt">width =</span> <span class="st">"60%"</span>)</code></pre></div>
<div id="htmlwidget-fb37aa630b9d9968db84" style="width:60%;height:400px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-fb37aa630b9d9968db84">{"x":{"nodes":{"id":[0,1,2,3],"label":["Transition","Sitting","Upright","Lying"],"title":["Transition","Sitting","Upright","Lying"],"value":[null,0.152631578947368,0.0556711758584808,0.647294589178357],"group":[1,1,1,1]},"edges":{"from":[0,0,1,1,2,3,3,3],"to":[1,2,1,2,2,1,2,3],"label":["0.10","0.88","0.85","0.12","0.94","0.52","0.13","0.35"],"value":[0.102867546654529,0.87983614019117,0.152631578947368,0.11866028708134,0.0556711758584808,0.519038076152305,0.128256513026052,0.647294589178357],"color.opacity":[0.102867546654529,0.87983614019117,0.152631578947368,0.11866028708134,0.0556711758584808,0.519038076152305,0.128256513026052,0.647294589178357]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"autoResize":true,"edges":{"arrows":"to","font":{"size":12},"scaling":{"max":2,"label":{"enabled":false}}},"layout":{"improvedLayout":true},"physics":{"barnesHut":{"gravitationalConstant":-3000,"springLength":500,"avoidOverlap":0.5}}},"groups":null,"width":"60%","height":"400px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)"},"main":null,"submain":null,"footer":null,"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="acknowledge" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledge" class="anchor"> </a>Acknowledge</h2>
<p><a href="http://datastorm-open.github.io/visNetwork/"><code>visNetwork</code></a> and <a href="http://visjs.org/docs/network/"><code>vis.js</code></a> is the backend for the interactive network building. Refer to their API for your own customization.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Qu Tang <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<html><body>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/qutang/confusion2network"><img src="https://travis-ci.org/qutang/confusion2network.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://cran.r-project.org/package=confusion2network"><img src="http://www.r-pkg.org/badges/version/confusion2network" alt="CRAN_Status_Badge"></a></li>
</ul>
</body></html>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Qu Tang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
